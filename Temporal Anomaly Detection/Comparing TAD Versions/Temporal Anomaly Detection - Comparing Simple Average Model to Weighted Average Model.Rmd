---
title: "Temporal Anomaly Detection - Comparing TAD Simple Average to TAD Weighted Average"
author: "Walter Moises Avila"
subtitle: "Comparing the Average Proportions of Anomalous Frames Generated by Each Model"
date: "8/12/2021"
output: 
  html_document:
    toc: true
    toc_depth: 2
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(warning = FALSE, message = FALSE) 
library(readxl)
library(ggplot2)
library(dplyr)
library(ggthemes)
library(ggpubr)
library(readxl)
library(plotly)
```

# OrNet Temporal Anomaly Detection - PopBio REU Summer 2021 

## Introduction & Data Collection

The current temporal anomaly detection method builds a baseline average for each time point by computing the average of all eigenvalues at a given time point. As a result, this gives disproportionate weight to trailing eigenvalues. Therefore, further development of the OrNet Temporal Anomaly Detection (TAD) this summer has consisted of implementing a weighted average per timepoint by taking the weighted average of all eigenvalues at a frame and comparing the resultant two versions of TAD.

More information on how the TAD with weighted average was implemented can be found here: https://github.com/quinngroup/ornet-reu-2021/tree/main/Temporal%20Anomaly%20Detection/TAD%20Weighted%20Average%20Per%20Frame

There are now two versions of the TAD which will be labeled:

1. **"TAD Simple Average"** - The original TAD that utilizes the average of all eigenvalues at a frame to detect anomalous frames

2. **"TAD Weighted Average"** - The TAD that utilizes the weighted average of all eigenvalues at a frame to detect anomalous frames

To compare these TAD versions we ran the eigenvalue NumPy arrays through both TAD versions to result in two data groups:

1. Eigenvalue Numpy array data on which the TAD *Simple Average* was applied (Output: TAD plots)
2. Eigenvalue Numpy array data on which the TAD *Weighted Average* was applied (Output: TAD plots)

The following image illustrates this process:




![](DataCollectionImage.jpg){ width=50% }


Then we compared these two data groups via two methods:

**Comparisons:**

1. Among each data group, compute the **average proportion of anomalous frames of the NumPy arrays in each experimental group** (LLO, MDIVI, Control). Compare these average proportions per experimental group at each window size and calculate the difference in averages (ex. at threshold = 2.0 and window = 20, compare the average proportion of anomalous frames for the LLO NumPy arrays generated by the TAD simple average to the average proportion of anomalous frames for the LLO Numpy arrays generated by the TAD weighted average and calculate the difference these proportions).

2. Among each data group, compute **the densities of anomalous frames per NumPy array in each experimental group.** Compare these densities at each window size and threshold. 
*How is this data gathered?* For each NumPy array in each experimental group on which the TAD was applied, locate the anomalous frames and what their "positions" are (frame 3, frame 5, frame 80, etc) and divide the position of each anomalous frame by the number of rows in the NumPy array (indicative of number of frames), and display the densities of those anomalous frames for each group. 

#### The following images show exactly what we're comparing via this *second* method:



![](FrequenciesHistSimple AverageW50T2.5.jpg){ width=50% }

![](FrequenciesHistWeighted AverageW50T2.5.jpg){ width=50% }


## **NOTE:**

### **This file discusses the first comparison while the second comparison will be discussed in other files.**

# Average Proportions of Anomalous Frames Among Between Both TAD Versions

### Loading Sheets from Temporal Anomaly Detection Excel Spreadsheet

Each excel sheet contains data generated from both TAD versions using the same window and threshold parameter values. Each excel sheet is differentiated by which threshold value was used since only three thresholds (2.0,2.5,3.0) were used in this summer's research. All excel files for this summer's research can be found here: https://github.com/quinngroup/ornet-reu-2021/tree/main/Temporal%20Anomaly%20Detection/Comparing%20TAD%20Versions/Average%20Proportion%20of%20Anomalous%20Frames/Excel%20Sheets

The dataframe variables are:

**'Experimental_Group'**- Categorical variable with three categories: **1.** "*LLO*", **2.** "*MDIVI*", and **3.** "*Control*". Denotes the mitochondrial condition to which the imaged cells and, ultimately, eigenvalue NumPy arrays belong.

**'Window_Size'**- Categorical variable with three categories: **1.** "*Ten*", **2.** "*Twenty*", and **3.** "*Fifty*".Which window size was used for

**'Weighing'**- Categorical variable with two cateogires: **1.** "*Simple Average Per Frame*" and **2.**"*Weighted Average Per Frame.*" Denotes which TAD version was ran on the eigenvalue NumPy data to generate the average proportion and other statistics. 

**'Average Proportion'**- Numerical variable. The average proportion of anomalous frames of the NumPy arrays in each experimental group

**'STDEV'**- Numerical variable. The standard deviation of the proportion of anomalous frames per NumPy array in each experimental group. 

**'95%CI_Upper'**- Numerical variable. The upper limit of the 95% confidence interval of the average proportion of anamolous frames of the NumPy arrays in each experimental group. 

**'95%CI_Lower'**- Numerical variable. The lower limit of the 95% confidence interval of the average proportion of anamolous frames of the NumPy arrays in each experimental group. 

```{r cars}
threshold_2.0_df <- read_excel("Temporal Anomaly Detection - Average Proportions of Anomalous Frames.xlsx", sheet = "Threshold = 2.0")
threshold_2.5_df <- read_excel("Temporal Anomaly Detection - Average Proportions of Anomalous Frames.xlsx", sheet = "Threshold = 2.5")
threshold_3.0_df <- read_excel("Temporal Anomaly Detection - Average Proportions of Anomalous Frames.xlsx", sheet = "Threshold = 3.0")

threshold_2.0_df$Window_Size <- factor(threshold_2.0_df$Window_Size, levels = c("Ten","Twenty","Fifty"))
threshold_2.5_df$Window_Size <- factor(threshold_2.5_df$Window_Size, levels = c("Ten","Twenty","Fifty"))
threshold_3.0_df$Window_Size <- factor(threshold_3.0_df$Window_Size, levels = c("Ten","Twenty","Fifty"))

threshold_2.0_df 
```

## Plots

The following graphs each consist of two sub-plots. The left sub-plot contains data generated from the Temporal Anomaly Detection utilizing a simple average eigenvalue per frame. The right sub-plot contains data generated from the Temporal Anomaly Detection utilizing a weighted average eigenvalue per frame.

The x-axis consists of three different window parameter values: "Ten", "Twenty", and "Fifty."
The y-axis measures the average proportion of anomalous frames per NumPy eigenvalue array. For each window value, there are three bars that represent this metric. Each bar corresponds to the average from each mitochondrial condition/experimental group.

There are **three graphs.** The first graph corresponds to data generated using threshold = 2.0, the second threshold = 2.5, and the third threshold = 3.0.

There are **two versions of each graph.** Each graph version differs in which data is being used for the error bars: **1.** Error bars are standard deviation (Avg. Prop. +/- STDEV) or **2.** Error bars are 95% confidence interval limits (Avg. Prop. +/- Margin of Error). 

Originally, I only used the standard deviation for the error bars but this resulted in the lower limits of the error bars being negative proportions. Currently, I do not know how to graph only the upper limits of the error bars (Avg. Prop + STDEV) so I have instead chosen alternative error bars that are the upper and lower limits of the 95% confidence interval of the average proportion of anomalous frames. 





### Threshold = 2.0

#### Standard Deviation Error Bars
```{r pressure}
plot_2.0 <- threshold_2.0_df %>%
  ggplot(aes(x= Window_Size, y = Average_Proportion)) + 
  geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=Average_Proportion-STDEV, ymax=Average_Proportion +STDEV), width=.2,position=position_dodge(.9)) +
  theme_stata() + facet_grid(cols = vars(Weighing)) +
  ggtitle("Avg. Prop. of Anomalous Frames Per Experimental Group",
          subtitle = "Threshold = 2.0") +
  xlab("Window Size") + ylab("Avg. Prop. of Frames Declared Anomalous Per Eigenvalue Array") +
  scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
  theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"))

plot_2.0
```

#### 95% Confidence Interval Error Bars
```{r}
plot_2.0_CI95 <- threshold_2.0_df %>%
  ggplot(aes(x= Window_Size, y = Average_Proportion)) + 
  geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin= `95%CI_Lower` , ymax= `95%CI_Upper`), width=.2,position=position_dodge(.9)) +
  theme_stata() + facet_grid(cols = vars(Weighing)) +
  ggtitle("Avg. Prop. of Anomalous Frames Per Experimental Group",
          subtitle = "Threshold = 2.0, 95% Confidence Interval") +
  xlab("Window Size") + ylab("Avg. Prop. of Frames Declared Anomalous Per Eigenvalue Array") +
  scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
  theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"))

plot_2.0_CI95
```


### Threshold = 2.5

#### Standard Deviation Error Bars
```{r}
plot_2.5 <- threshold_2.5_df %>%
  ggplot(aes(x= Window_Size, y = Average_Proportion)) + 
  geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=Average_Proportion-STDEV, ymax=Average_Proportion +STDEV), width=.2,position=position_dodge(.9)) +
  theme_stata() + facet_grid(cols = vars(Weighing)) +
  ggtitle("Avg. Prop. of Anomalous Frames Per Experimental Group",
          subtitle = "Threshold = 2.5") +
  xlab("Window Size") + ylab("Avg. Prop. of Frames Declared Anomalous Per Eigenvalue Array") +
  scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
  theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"))

plot_2.5
```

#### 95% Confidence Interval Error Bars
```{r}
plot_2.5_CI95 <- threshold_2.5_df %>%
  ggplot(aes(x= Window_Size, y = Average_Proportion)) + 
  geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin= `95%CI_Lower` , ymax= `95%CI_Upper`), width=.2,position=position_dodge(.9)) +
  theme_stata() + facet_grid(cols = vars(Weighing)) +
  ggtitle("Avg. Prop. of Anomalous Frames Per Experimental Group",
          subtitle = "Threshold = 2.5, 95% Confidence Interval") +
  xlab("Window Size") + ylab("Avg. Prop. of Frames Declared Anomalous Per Eigenvalue Array") +
  scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
  theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"))

plot_2.5_CI95
``` 
### Threshold = 3.0


#### Standard Deviation Error Bars
```{r}
plot_3.0 <- threshold_3.0_df %>%
  ggplot(aes(x= Window_Size, y = Average_Proportion)) + 
  geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=Average_Proportion-STDEV, ymax=Average_Proportion +STDEV), width=.2,position=position_dodge(.9)) +
  theme_stata() + facet_grid(cols = vars(Weighing)) +
  ggtitle("Avg. Prop. of Anomalous Frames Per Experimental Group",
          subtitle = "Threshold = 3.0") +
  xlab("Window Size") + ylab("Avg. Prop. of Frames Declared Anomalous Per Eigenvalue Array") +
  scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
  theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"))

plot_3.0
```

#### 95% Confidence Interval Error Bars
```{r}
plot_3.0_CI95 <- threshold_3.0_df %>%
  ggplot(aes(x= Window_Size, y = Average_Proportion)) + 
  geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin= `95%CI_Lower` , ymax= `95%CI_Upper`), width=.2,position=position_dodge(.9)) +
  theme_stata() + facet_grid(cols = vars(Weighing)) +
  ggtitle("Avg. Prop. of Anomalous Frames Per Experimental Group",
          subtitle = "Threshold = 3.0, 95% Confidence Interval") +
  xlab("Window Size") + ylab("Avg. Prop. of Frames Declared Anomalous Per Eigenvalue Array") +
  scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
  theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"))

plot_3.0_CI95

```

# Difference in Average Proportions of Anomalous Frames Among Between Both TAD Versions

To further compare both TAD versions we can find the difference between these average proportions and analyze these differences among different window sizes and thresholds. 


### Loading Sheets from Temporal Anomaly Detection - Difference in Average Proportions Excel Spreadsheet

Each excel sheet contains data generated from both TAD versions using the same window and threshold parameter values. Each excel sheet is differentiated by which threshold value was used since only three values were used in this summer's research. 

The dataframe variables are:

**'Experimental_Group'**- Categorical variable with three categories: **1.** "*LLO*", **2.** "*MDIVI*", and **3.** "*Control*". Denotes the mitochondrial condition to which the imaged cells and, ultimately, eigenvalue NumPy arrays belong.

**'Window_Size'**- Categorical variable with three categories: **1.** "*Ten*", **2.** "*Twenty*", and **3.** "*Fifty*".Which window size was used for

**'Weighing'**- Categorical variable with two cateogires: **1.** "*Simple Average Per Frame*" and **2.**"*Weighted Average Per Frame.*" Denotes which TAD version was ran on the eigenvalue NumPy data to generate the average proportion and other statistics. 

**'Difference_in_Avg._Prop_Weighted-Simple'**- Numerical variable. The difference in the average proportion of anomalous frames of the NumPy arrays in each experimental group generated by both TAD versions (TAD Weighted Average Mean Proportion - TAD Simple Average Mean Proportion)

**'STDEV_Difference'**- Numerical variable. The standard deviation of the difference in proportions of anomalous frames per NumPy array in each experimental group generated by both TAD versions. 

**'95%CI_Upper'**- Numerical variable. The upper limit of the 95% confidence interval of the difference in the average proportion of anamolous frames of the NumPy arrays in each experimental group. 

**'95%CI_Lower'**- Numerical variable. The lower limit of the 95% confidence interval of the difference in the average proportion of anamolous frames of the NumPy arrays in each experimental group. 

**'pvalue_t-test'** - Numerical variable. The p-value generated from the t-test comparing the proportions generated by each TAD version for an experimental group.
```{r}
diff_in_avg_threshold_2.0_df <- read_excel("Temporal Anomaly Detection - Difference in Average Proportions.xlsx", sheet = "Threshold = 2.0")
diff_in_avg_threshold_2.5_df <- read_excel("Temporal Anomaly Detection - Difference in Average Proportions.xlsx", sheet = "Threshold = 2.5")
diff_in_avg_threshold_3.0_df <- read_excel("Temporal Anomaly Detection - Difference in Average Proportions.xlsx", sheet = "Threshold = 3.0")

diff_in_avg_threshold_2.0_df$Window_Size <- factor(diff_in_avg_threshold_2.0_df$Window_Size, levels = c("Ten","Twenty","Fifty"))

diff_in_avg_threshold_2.5_df$Window_Size <- factor(diff_in_avg_threshold_2.5_df$Window_Size, levels = c("Ten","Twenty","Fifty"))

diff_in_avg_threshold_3.0_df$Window_Size <- factor(diff_in_avg_threshold_3.0_df$Window_Size, levels = c("Ten","Twenty","Fifty"))

diff_in_avg_threshold_2.0_df
```

## Plots

### Threshold = 2.0

#### Standard Deviation Error Bars
```{r}
diff_plot_2.0 <- ggplot(diff_in_avg_threshold_2.0_df,aes(x = Window_Size, y= `Difference_in_Avg._Prop_Weighted-Simple`)) + 
geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=`Difference_in_Avg._Prop_Weighted-Simple`-STDEV_Difference, ymax=`Difference_in_Avg._Prop_Weighted-Simple`+ STDEV_Difference), width=.2,position=position_dodge(.9)) + 
theme_fivethirtyeight() + 
  ggtitle("Diff. in Avg. Prop. of Anomalous Frames", subtitle = ("Threshold = 2.0, Weighted Avg. Mean Prop. - Simple Avg. Mean Prop.")) +
xlab("Window Size") + 
  ylab("Diff. in Avg. Prop. of Anomalous Frames Per Eigenvalue Array") +
scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid")) +
  theme(axis.title = element_text())

diff_plot_2.0

```

#### 95% Confidence Interval Error Bars
```{r}
diff_plot_2.0CI95 <- ggplot(diff_in_avg_threshold_2.0_df,aes(x = Window_Size, y= `Difference_in_Avg._Prop_Weighted-Simple`)) + 
geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=`95%CI_Lower`, ymax=`95%CI_Upper`), width=.2,position=position_dodge(.9)) + 
theme_fivethirtyeight() + 
  ggtitle("Diff. in Avg. Prop. of Anomalous Frames", subtitle = ("Threshold = 2.0, Weighted Avg. Mean Prop. - Simple Avg. Mean Prop., 95% CI")) +
xlab("Window Size") + 
  ylab("Diff. in Avg. Prop. of Anomalous Frames Per Eigenvalue Array") +
scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid")) +
  theme(axis.title = element_text())

diff_plot_2.0CI95

```

### Threshold = 2.5

#### Standard Deviation Error Bars
```{r}
diff_plot_2.5 <- ggplot(diff_in_avg_threshold_2.5_df,aes(x = Window_Size, y= `Difference_in_Avg._Prop_Weighted-Simple`)) + 
geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=`Difference_in_Avg._Prop_Weighted-Simple`-STDEV_Difference, ymax=`Difference_in_Avg._Prop_Weighted-Simple`+ STDEV_Difference), width=.2,position=position_dodge(.9)) + 
theme_fivethirtyeight() + 
  ggtitle("Diff. in Avg. Prop. of Anomalous Frames", subtitle = ("Threshold = 2.5, Weighted Avg. Mean Prop. - Simple Avg. Mean Prop.")) +
xlab("Window Size") + 
  ylab("Diff. in Avg. Prop. of Anomalous Frames Per Eigenvalue Array") +
scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid")) +
  theme(axis.title = element_text())

diff_plot_2.5
```

#### 95% Confidence Interval Error Bars
```{r}
diff_plot_2.5CI95 <- ggplot(diff_in_avg_threshold_2.5_df,aes(x = Window_Size, y= `Difference_in_Avg._Prop_Weighted-Simple`)) + 
geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=`95%CI_Lower`, ymax=`95%CI_Upper`), width=.2,position=position_dodge(.9)) + 
theme_fivethirtyeight() + 
  ggtitle("Diff. in Avg. Prop. of Anomalous Frames", subtitle = ("Threshold = 2.5, Weighted Avg. Mean Prop. - Simple Avg. Mean Prop., 95% CI")) +
xlab("Window Size") + 
  ylab("Diff. in Avg. Prop. of Anomalous Frames Per Eigenvalue Array") +
scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid")) +
  theme(axis.title = element_text())

diff_plot_2.5CI95
```

### Threshold = 3.0

#### Standard Deviation Error Bars
```{r}
diff_plot_3.0 <- ggplot(diff_in_avg_threshold_3.0_df,aes(x = Window_Size, y= `Difference_in_Avg._Prop_Weighted-Simple`)) + 
geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=`Difference_in_Avg._Prop_Weighted-Simple`-STDEV_Difference, ymax=`Difference_in_Avg._Prop_Weighted-Simple`+ STDEV_Difference), width=.2,position=position_dodge(.9)) + 
theme_fivethirtyeight() + 
  ggtitle("Diff. in Avg. Prop. of Anomalous Frames", subtitle = ("Threshold = 3.0, Weighted Avg. Mean Prop. - Simple Avg. Mean Prop.")) +
xlab("Window Size") + 
  ylab("Diff. in Avg. Prop. of Anomalous Frames Per Eigenvalue Array") +
scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid")) +
  theme(axis.title = element_text())

diff_plot_3.0
```

#### 95% Confidence Interval Error Bars
```{r}
diff_plot_3.0CI95 <- ggplot(diff_in_avg_threshold_3.0_df,aes(x = Window_Size, y= `Difference_in_Avg._Prop_Weighted-Simple`)) + 
geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
  geom_errorbar(aes(group = Experimental_Group,ymin=`95%CI_Lower`, ymax=`95%CI_Upper`), width=.2,position=position_dodge(.9)) + 
theme_fivethirtyeight() + ggtitle("Diff. in Avg. Prop. of Anomalous Frames", subtitle = ("Threshold = 3.0, Weighted Avg. Mean Prop. - Simple Avg. Mean Prop., 95% CI")) +
xlab("Window Size") + 
  ylab("Diff. in Avg. Prop. of Anomalous Frames Per Eigenvalue Array") +
scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid")) +
  theme(axis.title = element_text())

diff_plot_3.0CI95
```

## Results

#### Average Proportions of Anomalous Frames Among Between Both TAD Versions

On average, the weighted average TAD code declares a higher proportion of anomalous frames in each experimental group for each window size and threshold than the TAD code utilizing the simple average per timepoint. 


#### Difference in Average Proportions of Anomalous Frames Among Between Both TAD Versions

For each experimental group, as both the window size and the threshold increase, the difference between the TAD weighted average mean proportion of anomalous frames and the TAD simple average mean proportion of anomalous frames decreases. 

T-tests comparing experimental group average proportions generated by TAD with simple average and TAD with weighted average per window all yielded significant differences (*p* < 0.05). 

## Conclusion and Future Directions

Modeling when structural changes occur in mitochondria can aid in understanding pathogen infection behaviors and how cells respond to pathogens. 
Our goal is to implement OrNet to conduct large-scale genomic screens of genetic mutants of Mtb to better understand how these pathogens invade cells and induce cell death at the genetic level.

Learning that as both the window size and threshold increase, the average proportions of anomalous frames per experimental group generated by the two TAD versions become more similar, will guide how OrNet is implemented in the future and is another important step in achieving our goal. The next steps are to delve further into the second comparison between these two TAD versions (**looking at the densities of anomalous frames per NumPy array in each experimental group.**) to even better measure the difference between these TAD versions and to revisit the raw data (eigenvalue NumPy arrays and the cell microscopy imaging videos) to better understand what is occuring mathematically and biologically. 

Further documentation concerning the second comparison between these two TAD versions can be found here:
https://github.com/quinngroup/ornet-reu-2021/tree/main/Temporal%20Anomaly%20Detection/Comparing%20TAD%20Versions/Densities%20of%20Anomalous%20Video%20Sections


# Acknowledgements

Thank you to the Population Biology of Infectious Diseases REU Site at the University of Georgia^**1**^ for making this project possible and to the members of the Quinn Research Group^**2**^ for guiding me on my ever-expanding journey within the quantitative and biological sciences.

![](PopBioReu.png){ width=50% } ![](QuinnResearchGroup.png){ width=50% }


### Links

**1.**http://reu.ecology.uga.edu/?cat=57

**2.**https://quinngroup.github.io/index.html







```{r,echo = FALSE, eval = FALSE}
# t3.0_split_s <- split(threshold_3.0_df,threshold_3.0_df$Weighing)[1]
# t3.0_split_w <- split(threshold_3.0_df,threshold_3.0_df$Weighing)[2]
# 
# difference_in_averages_threshold3.0 <- cbind(as.data.frame(t3.0_split_s),as.data.frame(t3.0_split_w)) %>%
#   mutate(Difference_In_Average = Weighted.Average.Per.Frame.Average_Proportion - Simple.Average.Per.Frame.Average_Proportion) %>%
#   select(Simple.Average.Per.Frame.Experimental_Group,Simple.Average.Per.Frame.Window_Size,Simple.Average.Per.Frame.Weighing,Weighted.Average.Per.Frame.Weighing,Difference_In_Average) %>%
#   rename(Experimental_Group = Simple.Average.Per.Frame.Experimental_Group, Window_Size = Simple.Average.Per.Frame.Window_Size)
# 
# ggplot(difference_in_averages_threshold3.0, aes(x= Window_Size, y = Difference_In_Average)) + 
# geom_col(aes(fill = Experimental_Group), position = "dodge",stat="identity", color="black") + 
# theme_fivethirtyeight() + ggtitle("Difference in Average Proportion of Frames Declared Anomalous Per Experimental Group", subtitle = ("Weighted Average Mean Proportion - Simple Average,Threshold) = 2.5")) +
# xlab("Window Size") + ylab("Difference in Average Proportion of Frames Declared Anomalous Per Eigenvalue Array") +
# scale_fill_manual(name = "Experimental Group",values = c("#d8b365", "indianred2", "#5ab4ac")) +
# theme(strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"))
  
 

one <- c(0.03, 0.005, 0.025, 0.025, 0.025, 0.01, 0.05, 0.0, 0.03, 0.0, 0.01, 0.0, 0.06, 0.01, 0.01, 0.005, 0.0, 0.02, 0.015, 0.01, 0.075, 0.0, 0.01, 0.015, 0.015, 0.025, 0.015, 0.015, 0.055)
 
two <- c(0.005, 0.0, 0.005, 0.0, 0.005, 0.0, 0.0, 0.015, 0.005, 0.0, 0.0, 0.0, 0.005, 0.0, 0.005, 0.0, 0.0, 0.0, 0.01, 0.0, 0.01, 0.005, 0.005, 0.0, 0.0, 0.005, 0.0, 0.025, 0.005)

sd(one - two)

t.test(one,two)




```
